WE departed LGA runway 31 with heading errors on both compass system of approximately 30-35 degree. it was the same error on both system as verified by the standby compass. working with Air Traffic Control; we attempted to navigate directly to a Navigational Aid. unable to do so with precision. flight diverted to BWI for an uneventful landing. things that contributed to this: 1) short taxi from gate to end of runway. less time to catch an error. 2) same exact error on 2 independent system. 3) heading bug set to assigned turn on Standard Instrument Departure which happened to be the runway heading; therefore on takeoff; bug was in position it normally is in for a 'takeoff to runway heading.'